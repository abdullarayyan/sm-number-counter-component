{"ast":null,"code":"// src/CustomBlock.js\nimport React, { useEffect, useRef } from 'react';\nimport grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\nfunction CustomBlockComponent(editor) {\n  editor.Blocks.add('custom-block', {\n    label: 'Custom Block',\n    // Block label\n    content: '<div class=\"custom-block\">Drag me!</div>',\n    // Block content\n    category: 'Basic',\n    // Block category\n\n    // Make the block draggable\n    draggable: '.custom-block'\n  });\n}\n_c = CustomBlockComponent;\nfunction NumberCounterComponent(editor) {\n  editor.DomComponents.addType('number-counter', {\n    model: {\n      defaults: {\n        traits: [{\n          type: 'number',\n          name: 'start',\n          label: 'Start Number'\n        }, {\n          type: 'number',\n          name: 'end',\n          label: 'End Number'\n        }, {\n          type: 'number',\n          name: 'speed',\n          label: 'Counting Speed'\n        }, {\n          type: 'checkbox',\n          name: 'direction',\n          label: 'Count Up'\n        }, {\n          type: 'text',\n          name: 'prefix',\n          label: 'Prefix'\n        }, {\n          type: 'text',\n          name: 'suffix',\n          label: 'Suffix'\n        }, {\n          type: 'text',\n          name: 'separator',\n          label: 'Separator'\n        }, {\n          type: 'text',\n          name: 'custom-css',\n          label: 'Custom CSS'\n        } // Custom CSS trait\n        ],\n\n        content: '0'\n      }\n    },\n    view: {\n      onRender() {\n        const model = this.model;\n        const customCss = model.get('custom-css'); // Get the custom CSS\n        // Apply the custom CSS to the component\n        if (customCss) {\n          this.el.style.cssText = customCss;\n        }\n        const start = model.get('start');\n        const end = model.get('end');\n        const speed = model.get('speed');\n        const direction = model.get('direction');\n        const prefix = model.get('prefix');\n        const suffix = model.get('suffix');\n        const separator = model.get('separator');\n        let currentNumber = start;\n        let increment = 1;\n        if (!direction) {\n          currentNumber = end;\n          increment = -1;\n        }\n        setInterval(() => {\n          if (direction && currentNumber >= end || !direction && currentNumber <= start) {\n            return;\n          }\n          this.el.innerHTML = prefix + currentNumber + suffix;\n          currentNumber += increment;\n        }, speed);\n      }\n    }\n  });\n}\n_c2 = NumberCounterComponent;\nexport default [NumberCounterComponent, CustomBlockComponent];\nvar _c, _c2;\n$RefreshReg$(_c, \"CustomBlockComponent\");\n$RefreshReg$(_c2, \"NumberCounterComponent\");","map":{"version":3,"names":["React","useEffect","useRef","grapesjs","CustomBlockComponent","editor","Blocks","add","label","content","category","draggable","_c","NumberCounterComponent","DomComponents","addType","model","defaults","traits","type","name","view","onRender","customCss","get","el","style","cssText","start","end","speed","direction","prefix","suffix","separator","currentNumber","increment","setInterval","innerHTML","_c2","$RefreshReg$"],"sources":["/Users/user/grapesjs-editor/src/NumberCounter.js"],"sourcesContent":["// src/CustomBlock.js\nimport React, { useEffect, useRef } from 'react';\nimport grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\n\nfunction CustomBlockComponent(editor) {\n  editor.Blocks.add('custom-block', {\n    label: 'Custom Block', // Block label\n    content: '<div class=\"custom-block\">Drag me!</div>', // Block content\n    category: 'Basic', // Block category\n\n    // Make the block draggable\n    draggable: '.custom-block',\n  });\n}\n\nfunction NumberCounterComponent(editor) {\n  editor.DomComponents.addType('number-counter', {\n    model: {\n      defaults: {\n        traits: [\n          { type: 'number', name: 'start', label: 'Start Number' },\n          { type: 'number', name: 'end', label: 'End Number' },\n          { type: 'number', name: 'speed', label: 'Counting Speed' },\n          { type: 'checkbox', name: 'direction', label: 'Count Up' },\n          { type: 'text', name: 'prefix', label: 'Prefix' },\n          { type: 'text', name: 'suffix', label: 'Suffix' },\n          { type: 'text', name: 'separator', label: 'Separator' },\n          { type: 'text', name: 'custom-css', label: 'Custom CSS' }, // Custom CSS trait\n        ],\n        content: '0',\n      },\n    },\n    view: {\n      onRender() {\n        const model = this.model;\n        const customCss = model.get('custom-css'); // Get the custom CSS\n        // Apply the custom CSS to the component\n        if (customCss) {\n          this.el.style.cssText = customCss;\n        }\n\n        const start = model.get('start');\n        const end = model.get('end');\n        const speed = model.get('speed');\n        const direction = model.get('direction');\n        const prefix = model.get('prefix');\n        const suffix = model.get('suffix');\n        const separator = model.get('separator');\n        let currentNumber = start;\n        let increment = 1;\n\n        if (!direction) {\n          currentNumber = end;\n          increment = -1;\n        }\n\n        setInterval(() => {\n          if ((direction && currentNumber >= end) || (!direction && currentNumber <= start)) {\n            return;\n          }\n          this.el.innerHTML = prefix + currentNumber + suffix;\n          currentNumber += increment;\n        }, speed);\n      },\n    },\n  });\n}\n\n\nexport default [NumberCounterComponent,CustomBlockComponent];\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
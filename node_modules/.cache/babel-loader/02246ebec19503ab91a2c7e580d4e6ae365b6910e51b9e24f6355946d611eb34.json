{"ast":null,"code":"var _s = $RefreshSig$();\n// src/NumberCounter.js\nimport React, { useEffect, useRef } from 'react';\nimport grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\nfunction NumberCounterComponent(editor) {\n  editor.DomComponents.addType('number-counter', {\n    model: {\n      defaults: {\n        traits: [{\n          type: 'number',\n          name: 'start',\n          label: 'Start Number'\n        }, {\n          type: 'number',\n          name: 'end',\n          label: 'End Number'\n        }, {\n          type: 'number',\n          name: 'speed',\n          label: 'Counting Speed'\n        }, {\n          type: 'checkbox',\n          name: 'direction',\n          label: 'Count Up'\n        }, {\n          type: 'text',\n          name: 'prefix',\n          label: 'Prefix'\n        }, {\n          type: 'text',\n          name: 'suffix',\n          label: 'Suffix'\n        }, {\n          type: 'text',\n          name: 'separator',\n          label: 'Separator'\n        }, {\n          type: 'text',\n          name: 'custom-css',\n          label: 'Custom CSS'\n        } // Custom CSS trait\n        ],\n\n        content: '0'\n      }\n    },\n    view: {\n      onRender() {\n        const model = this.model;\n        const customCss = model.get('custom-css'); // Get the custom CSS\n        // Apply the custom CSS to the component\n        if (customCss) {\n          this.el.style.cssText = customCss;\n        }\n        const start = model.get('start');\n        const end = model.get('end');\n        const speed = model.get('speed');\n        const direction = model.get('direction');\n        const prefix = model.get('prefix');\n        const suffix = model.get('suffix');\n        const separator = model.get('separator');\n        let currentNumber = start;\n        let increment = 1;\n        if (!direction) {\n          currentNumber = end;\n          increment = -1;\n        }\n        setInterval(() => {\n          if (direction && currentNumber >= end || !direction && currentNumber <= start) {\n            return;\n          }\n          this.el.innerHTML = prefix + currentNumber + suffix;\n          currentNumber += increment;\n        }, speed);\n      }\n    }\n  });\n}\n_c = NumberCounterComponent;\nfunction App() {\n  _s();\n  const editorRef = useRef(null);\n  useEffect(() => {\n    const editor = grapesjs.init({\n      container: editorRef.current,\n      storageManager: {\n        type: 'local'\n      }\n      // Add more GrapeJS configuration options here\n    });\n\n    NumberCounterComponent(editor); // Add your NumberCounter component to the editor\n\n    return () => {\n      editor.destroy();\n    };\n  }, []);\n}\n_s(App, \"FXGU5sRik9TpAO5B+Yli91RwFDk=\");\n_c2 = App;\nexport default NumberCounterComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"NumberCounterComponent\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","grapesjs","NumberCounterComponent","editor","DomComponents","addType","model","defaults","traits","type","name","label","content","view","onRender","customCss","get","el","style","cssText","start","end","speed","direction","prefix","suffix","separator","currentNumber","increment","setInterval","innerHTML","_c","App","_s","editorRef","init","container","current","storageManager","destroy","_c2","$RefreshReg$"],"sources":["/Users/user/grapesjs-editor/src/NumberCounter.js"],"sourcesContent":["// src/NumberCounter.js\nimport React, { useEffect, useRef } from 'react';\nimport grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\n\n\nfunction NumberCounterComponent(editor) {\n  editor.DomComponents.addType('number-counter', {\n    model: {\n      defaults: {\n        traits: [\n          { type: 'number', name: 'start', label: 'Start Number' },\n          { type: 'number', name: 'end', label: 'End Number' },\n          { type: 'number', name: 'speed', label: 'Counting Speed' },\n          { type: 'checkbox', name: 'direction', label: 'Count Up' },\n          { type: 'text', name: 'prefix', label: 'Prefix' },\n          { type: 'text', name: 'suffix', label: 'Suffix' },\n          { type: 'text', name: 'separator', label: 'Separator' },\n          { type: 'text', name: 'custom-css', label: 'Custom CSS' }, // Custom CSS trait\n        ],\n        content: '0',\n      },\n    },\n    view: {\n      onRender() {\n        const model = this.model;\n        const customCss = model.get('custom-css'); // Get the custom CSS\n        // Apply the custom CSS to the component\n        if (customCss) {\n          this.el.style.cssText = customCss;\n        }\n\n        const start = model.get('start');\n        const end = model.get('end');\n        const speed = model.get('speed');\n        const direction = model.get('direction');\n        const prefix = model.get('prefix');\n        const suffix = model.get('suffix');\n        const separator = model.get('separator');\n        let currentNumber = start;\n        let increment = 1;\n\n        if (!direction) {\n          currentNumber = end;\n          increment = -1;\n        }\n\n        setInterval(() => {\n          if ((direction && currentNumber >= end) || (!direction && currentNumber <= start)) {\n            return;\n          }\n\n          this.el.innerHTML = prefix + currentNumber + suffix;\n          currentNumber += increment;\n        }, speed);\n      },\n    },\n  });\n}\n\nfunction App() {\n  const editorRef = useRef(null);\n\n  useEffect(() => {\n    const editor = grapesjs.init({\n      container: editorRef.current,\n      storageManager: { type: 'local' },\n      // Add more GrapeJS configuration options here\n    });\n\n    NumberCounterComponent(editor); // Add your NumberCounter component to the editor\n\n    return () => {\n      editor.destroy();\n    };\n  }, []);\n\n\n}\n\nexport default NumberCounterComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\n// import React, { useEffect, useRef } from 'react';\n// import grapesjs from 'grapesjs';\nimport React, { useEffect, useRef, useState } from 'react';\nconst GrapesJsEditor = editor => {\n  editor.Blocks.add('number-counter', {\n    label: 'Number Counter',\n    attributes: {\n      class: 'fa fa-clock-o'\n    },\n    content: '<div class=\"number-counter\">0</div>',\n    category: 'Basic',\n    customData: {\n      start: 0,\n      end: 100,\n      direction: 'up',\n      speed: 1000\n    },\n    render: ({\n      el\n    }) => {\n      const customData = el.getAttribute('data-custom-data');\n      if (customData) {\n        const {\n          start,\n          end,\n          direction,\n          speed\n        } = JSON.parse(customData);\n        let count = start;\n        const interval = setInterval(() => {\n          if (direction === 'up' && count < end) {\n            count++;\n          } else if (direction === 'down' && count > end) {\n            count--;\n          } else {\n            clearInterval(interval);\n          }\n          el.innerText = count.toString();\n        }, speed);\n      }\n    }\n  });\n};\n_c = GrapesJsEditor;\nexport default GrapesJsEditor;\nvar _c;\n$RefreshReg$(_c, \"GrapesJsEditor\");","map":{"version":3,"names":["grapesjs","React","useEffect","useRef","useState","GrapesJsEditor","editor","Blocks","add","label","attributes","class","content","category","customData","start","end","direction","speed","render","el","getAttribute","JSON","parse","count","interval","setInterval","clearInterval","innerText","toString","_c","$RefreshReg$"],"sources":["/Users/user/grapesjs-editor/src/GrapesJSEditor.js"],"sourcesContent":["import grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\n// import React, { useEffect, useRef } from 'react';\n// import grapesjs from 'grapesjs';\nimport React, { useEffect, useRef, useState } from 'react';\n\n\nconst GrapesJsEditor = (editor: grapesjs.Editor) => {\n    editor.Blocks.add('number-counter', {\n      label: 'Number Counter',\n      attributes: { class: 'fa fa-clock-o' },\n      content: '<div class=\"number-counter\">0</div>',\n      category: 'Basic',\n      customData: {\n        start: 0,\n        end: 100,\n        direction: 'up',\n        speed: 1000,\n      },\n      render: ({ el }) => {\n        const customData = el.getAttribute('data-custom-data');\n        if (customData) {\n          const { start, end, direction, speed } = JSON.parse(customData);\n          let count = start;\n  \n          const interval = setInterval(() => {\n            if (direction === 'up' && count < end) {\n              count++;\n            } else if (direction === 'down' && count > end) {\n              count--;\n            } else {\n              clearInterval(interval);\n            }\n            el.innerText = count.toString();\n          }, speed);\n        }\n      },\n    });\n  };\n\nexport default GrapesJsEditor;\n"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,UAAU;AAC/B,OAAO,kCAAkC;AACzC;AACA;AACA,OAAOC,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAG1D,MAAMC,cAAc,GAAIC,MAAuB,IAAK;EAChDA,MAAM,CAACC,MAAM,CAACC,GAAG,CAAC,gBAAgB,EAAE;IAClCC,KAAK,EAAE,gBAAgB;IACvBC,UAAU,EAAE;MAAEC,KAAK,EAAE;IAAgB,CAAC;IACtCC,OAAO,EAAE,qCAAqC;IAC9CC,QAAQ,EAAE,OAAO;IACjBC,UAAU,EAAE;MACVC,KAAK,EAAE,CAAC;MACRC,GAAG,EAAE,GAAG;MACRC,SAAS,EAAE,IAAI;MACfC,KAAK,EAAE;IACT,CAAC;IACDC,MAAM,EAAEA,CAAC;MAAEC;IAAG,CAAC,KAAK;MAClB,MAAMN,UAAU,GAAGM,EAAE,CAACC,YAAY,CAAC,kBAAkB,CAAC;MACtD,IAAIP,UAAU,EAAE;QACd,MAAM;UAAEC,KAAK;UAAEC,GAAG;UAAEC,SAAS;UAAEC;QAAM,CAAC,GAAGI,IAAI,CAACC,KAAK,CAACT,UAAU,CAAC;QAC/D,IAAIU,KAAK,GAAGT,KAAK;QAEjB,MAAMU,QAAQ,GAAGC,WAAW,CAAC,MAAM;UACjC,IAAIT,SAAS,KAAK,IAAI,IAAIO,KAAK,GAAGR,GAAG,EAAE;YACrCQ,KAAK,EAAE;UACT,CAAC,MAAM,IAAIP,SAAS,KAAK,MAAM,IAAIO,KAAK,GAAGR,GAAG,EAAE;YAC9CQ,KAAK,EAAE;UACT,CAAC,MAAM;YACLG,aAAa,CAACF,QAAQ,CAAC;UACzB;UACAL,EAAE,CAACQ,SAAS,GAAGJ,KAAK,CAACK,QAAQ,CAAC,CAAC;QACjC,CAAC,EAAEX,KAAK,CAAC;MACX;IACF;EACF,CAAC,CAAC;AACJ,CAAC;AAACY,EAAA,GA/BEzB,cAAc;AAiCpB,eAAeA,cAAc;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
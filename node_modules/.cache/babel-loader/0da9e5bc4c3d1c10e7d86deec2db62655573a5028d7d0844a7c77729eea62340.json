{"ast":null,"code":"var _jsxFileName = \"/Users/user/grapesjs-editor/src/NumberCounter.js\",\n  _s = $RefreshSig$();\n// src/CustomBlock.js\nimport React, { useEffect, useRef } from 'react';\nimport grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CustomBlockComponent(editor) {\n  editor.Blocks.add('custom-block', {\n    label: 'Custom Block',\n    // Block label\n    content: '<div class=\"custom-block\">Drag me!</div>',\n    // Block content\n    category: 'Basic',\n    // Block category\n\n    // Make the block draggable\n    draggable: '.custom-block'\n  });\n}\n_c = CustomBlockComponent;\nfunction NumberCounterComponent(editor) {\n  editor.DomComponents.addType('number-counter', {\n    model: {\n      defaults: {\n        traits: [{\n          type: 'number',\n          name: 'start',\n          label: 'Start Number'\n        }, {\n          type: 'number',\n          name: 'end',\n          label: 'End Number'\n        }, {\n          type: 'number',\n          name: 'speed',\n          label: 'Counting Speed'\n        }, {\n          type: 'checkbox',\n          name: 'direction',\n          label: 'Count Up'\n        }, {\n          type: 'text',\n          name: 'prefix',\n          label: 'Prefix'\n        }, {\n          type: 'text',\n          name: 'suffix',\n          label: 'Suffix'\n        }, {\n          type: 'text',\n          name: 'separator',\n          label: 'Separator'\n        }, {\n          type: 'text',\n          name: 'custom-css',\n          label: 'Custom CSS'\n        } // Custom CSS trait\n        ],\n\n        content: '0'\n      }\n    },\n    view: {\n      onRender() {\n        const model = this.model;\n        const customCss = model.get('custom-css'); // Get the custom CSS\n        // Apply the custom CSS to the component\n        if (customCss) {\n          this.el.style.cssText = customCss;\n        }\n        const start = model.get('start');\n        const end = model.get('end');\n        const speed = model.get('speed');\n        const direction = model.get('direction');\n        const prefix = model.get('prefix');\n        const suffix = model.get('suffix');\n        const separator = model.get('separator');\n        let currentNumber = start;\n        let increment = 1;\n        if (!direction) {\n          currentNumber = end;\n          increment = -1;\n        }\n        setInterval(() => {\n          if (direction && currentNumber >= end || !direction && currentNumber <= start) {\n            return;\n          }\n          this.el.innerHTML = prefix + currentNumber + suffix;\n          currentNumber += increment;\n        }, speed);\n      }\n    }\n  });\n}\n_c2 = NumberCounterComponent;\nfunction App() {\n  _s();\n  const editorRef = useRef(null);\n  useEffect(() => {\n    const editor = grapesjs.init({\n      container: editorRef.current,\n      fromElement: true,\n      // Use the container's content as initial content\n      storageManager: {\n        type: 'local'\n      }\n      // Add more GrapeJS configuration options here\n    });\n\n    CustomBlockComponent(editor); // Add your CustomBlock component to the editor\n    NumberCounterComponent(editor); // Add your NumberCounter component to the editor\n\n    return () => {\n      editor.destroy();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: editorRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"FXGU5sRik9TpAO5B+Yli91RwFDk=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CustomBlockComponent\");\n$RefreshReg$(_c2, \"NumberCounterComponent\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","grapesjs","jsxDEV","_jsxDEV","CustomBlockComponent","editor","Blocks","add","label","content","category","draggable","_c","NumberCounterComponent","DomComponents","addType","model","defaults","traits","type","name","view","onRender","customCss","get","el","style","cssText","start","end","speed","direction","prefix","suffix","separator","currentNumber","increment","setInterval","innerHTML","_c2","App","_s","editorRef","init","container","current","fromElement","storageManager","destroy","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c3","$RefreshReg$"],"sources":["/Users/user/grapesjs-editor/src/NumberCounter.js"],"sourcesContent":["// src/CustomBlock.js\nimport React, { useEffect, useRef } from 'react';\nimport grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\n\nfunction CustomBlockComponent(editor) {\n  editor.Blocks.add('custom-block', {\n    label: 'Custom Block', // Block label\n    content: '<div class=\"custom-block\">Drag me!</div>', // Block content\n    category: 'Basic', // Block category\n\n    // Make the block draggable\n    draggable: '.custom-block',\n  });\n}\n\nfunction NumberCounterComponent(editor) {\n  editor.DomComponents.addType('number-counter', {\n    model: {\n      defaults: {\n        traits: [\n          { type: 'number', name: 'start', label: 'Start Number' },\n          { type: 'number', name: 'end', label: 'End Number' },\n          { type: 'number', name: 'speed', label: 'Counting Speed' },\n          { type: 'checkbox', name: 'direction', label: 'Count Up' },\n          { type: 'text', name: 'prefix', label: 'Prefix' },\n          { type: 'text', name: 'suffix', label: 'Suffix' },\n          { type: 'text', name: 'separator', label: 'Separator' },\n          { type: 'text', name: 'custom-css', label: 'Custom CSS' }, // Custom CSS trait\n        ],\n        content: '0',\n      },\n    },\n    view: {\n      onRender() {\n        const model = this.model;\n        const customCss = model.get('custom-css'); // Get the custom CSS\n        // Apply the custom CSS to the component\n        if (customCss) {\n          this.el.style.cssText = customCss;\n        }\n\n        const start = model.get('start');\n        const end = model.get('end');\n        const speed = model.get('speed');\n        const direction = model.get('direction');\n        const prefix = model.get('prefix');\n        const suffix = model.get('suffix');\n        const separator = model.get('separator');\n        let currentNumber = start;\n        let increment = 1;\n\n        if (!direction) {\n          currentNumber = end;\n          increment = -1;\n        }\n\n        setInterval(() => {\n          if ((direction && currentNumber >= end) || (!direction && currentNumber <= start)) {\n            return;\n          }\n          this.el.innerHTML = prefix + currentNumber + suffix;\n          currentNumber += increment;\n        }, speed);\n      },\n    },\n  });\n}\n\nfunction App() {\n  const editorRef = useRef(null);\n\n  useEffect(() => {\n    const editor = grapesjs.init({\n      container: editorRef.current,\n      fromElement: true, // Use the container's content as initial content\n      storageManager: { type: 'local' },\n      // Add more GrapeJS configuration options here\n    });\n\n    CustomBlockComponent(editor); // Add your CustomBlock component to the editor\n    NumberCounterComponent(editor); // Add your NumberCounter component to the editor\n\n    return () => {\n      editor.destroy();\n    };\n  }, []);\n\n  return (\n    <div>\n      <div ref={editorRef}></div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,QAAQ,MAAM,UAAU;AAC/B,OAAO,kCAAkC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,SAASC,oBAAoBA,CAACC,MAAM,EAAE;EACpCA,MAAM,CAACC,MAAM,CAACC,GAAG,CAAC,cAAc,EAAE;IAChCC,KAAK,EAAE,cAAc;IAAE;IACvBC,OAAO,EAAE,0CAA0C;IAAE;IACrDC,QAAQ,EAAE,OAAO;IAAE;;IAEnB;IACAC,SAAS,EAAE;EACb,CAAC,CAAC;AACJ;AAACC,EAAA,GATQR,oBAAoB;AAW7B,SAASS,sBAAsBA,CAACR,MAAM,EAAE;EACtCA,MAAM,CAACS,aAAa,CAACC,OAAO,CAAC,gBAAgB,EAAE;IAC7CC,KAAK,EAAE;MACLC,QAAQ,EAAE;QACRC,MAAM,EAAE,CACN;UAAEC,IAAI,EAAE,QAAQ;UAAEC,IAAI,EAAE,OAAO;UAAEZ,KAAK,EAAE;QAAe,CAAC,EACxD;UAAEW,IAAI,EAAE,QAAQ;UAAEC,IAAI,EAAE,KAAK;UAAEZ,KAAK,EAAE;QAAa,CAAC,EACpD;UAAEW,IAAI,EAAE,QAAQ;UAAEC,IAAI,EAAE,OAAO;UAAEZ,KAAK,EAAE;QAAiB,CAAC,EAC1D;UAAEW,IAAI,EAAE,UAAU;UAAEC,IAAI,EAAE,WAAW;UAAEZ,KAAK,EAAE;QAAW,CAAC,EAC1D;UAAEW,IAAI,EAAE,MAAM;UAAEC,IAAI,EAAE,QAAQ;UAAEZ,KAAK,EAAE;QAAS,CAAC,EACjD;UAAEW,IAAI,EAAE,MAAM;UAAEC,IAAI,EAAE,QAAQ;UAAEZ,KAAK,EAAE;QAAS,CAAC,EACjD;UAAEW,IAAI,EAAE,MAAM;UAAEC,IAAI,EAAE,WAAW;UAAEZ,KAAK,EAAE;QAAY,CAAC,EACvD;UAAEW,IAAI,EAAE,MAAM;UAAEC,IAAI,EAAE,YAAY;UAAEZ,KAAK,EAAE;QAAa,CAAC,CAAE;QAAA,CAC5D;;QACDC,OAAO,EAAE;MACX;IACF,CAAC;IACDY,IAAI,EAAE;MACJC,QAAQA,CAAA,EAAG;QACT,MAAMN,KAAK,GAAG,IAAI,CAACA,KAAK;QACxB,MAAMO,SAAS,GAAGP,KAAK,CAACQ,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;QAC3C;QACA,IAAID,SAAS,EAAE;UACb,IAAI,CAACE,EAAE,CAACC,KAAK,CAACC,OAAO,GAAGJ,SAAS;QACnC;QAEA,MAAMK,KAAK,GAAGZ,KAAK,CAACQ,GAAG,CAAC,OAAO,CAAC;QAChC,MAAMK,GAAG,GAAGb,KAAK,CAACQ,GAAG,CAAC,KAAK,CAAC;QAC5B,MAAMM,KAAK,GAAGd,KAAK,CAACQ,GAAG,CAAC,OAAO,CAAC;QAChC,MAAMO,SAAS,GAAGf,KAAK,CAACQ,GAAG,CAAC,WAAW,CAAC;QACxC,MAAMQ,MAAM,GAAGhB,KAAK,CAACQ,GAAG,CAAC,QAAQ,CAAC;QAClC,MAAMS,MAAM,GAAGjB,KAAK,CAACQ,GAAG,CAAC,QAAQ,CAAC;QAClC,MAAMU,SAAS,GAAGlB,KAAK,CAACQ,GAAG,CAAC,WAAW,CAAC;QACxC,IAAIW,aAAa,GAAGP,KAAK;QACzB,IAAIQ,SAAS,GAAG,CAAC;QAEjB,IAAI,CAACL,SAAS,EAAE;UACdI,aAAa,GAAGN,GAAG;UACnBO,SAAS,GAAG,CAAC,CAAC;QAChB;QAEAC,WAAW,CAAC,MAAM;UAChB,IAAKN,SAAS,IAAII,aAAa,IAAIN,GAAG,IAAM,CAACE,SAAS,IAAII,aAAa,IAAIP,KAAM,EAAE;YACjF;UACF;UACA,IAAI,CAACH,EAAE,CAACa,SAAS,GAAGN,MAAM,GAAGG,aAAa,GAAGF,MAAM;UACnDE,aAAa,IAAIC,SAAS;QAC5B,CAAC,EAAEN,KAAK,CAAC;MACX;IACF;EACF,CAAC,CAAC;AACJ;AAACS,GAAA,GAnDQ1B,sBAAsB;AAqD/B,SAAS2B,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,SAAS,GAAG1C,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMM,MAAM,GAAGJ,QAAQ,CAAC0C,IAAI,CAAC;MAC3BC,SAAS,EAAEF,SAAS,CAACG,OAAO;MAC5BC,WAAW,EAAE,IAAI;MAAE;MACnBC,cAAc,EAAE;QAAE5B,IAAI,EAAE;MAAQ;MAChC;IACF,CAAC,CAAC;;IAEFf,oBAAoB,CAACC,MAAM,CAAC,CAAC,CAAC;IAC9BQ,sBAAsB,CAACR,MAAM,CAAC,CAAC,CAAC;;IAEhC,OAAO,MAAM;MACXA,MAAM,CAAC2C,OAAO,CAAC,CAAC;IAClB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE7C,OAAA;IAAA8C,QAAA,eACE9C,OAAA;MAAK+C,GAAG,EAAER;IAAU;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxB,CAAC;AAEV;AAACb,EAAA,CAxBQD,GAAG;AAAAe,GAAA,GAAHf,GAAG;AA0BZ,eAAeA,GAAG;AAAC,IAAA5B,EAAA,EAAA2B,GAAA,EAAAgB,GAAA;AAAAC,YAAA,CAAA5C,EAAA;AAAA4C,YAAA,CAAAjB,GAAA;AAAAiB,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}